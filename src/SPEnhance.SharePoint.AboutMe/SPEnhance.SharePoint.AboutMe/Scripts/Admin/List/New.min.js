function callbackSaveSuccess(){document.location="View.aspx?SPAppWebUrl="+appWebUrl+"&listName="+listName+"&SPHostUrl="+hostWebUrl}function callbackSaveFail(n){showMsg(n.get_message())}function createForm(n){var t="<div class='form-horizontal'>";return angular.forEach(listNames.lists,function(i){if(i.listName==n)return angular.forEach(i.fields,function(n){t+="<div class='form-group'>";t+="<label for='"+n.fieldInternalName+"' class='col-sm-2 control-label'>"+n.fieldDisplayName+"<\/label>";t+="<div class='col-sm-10'>";n.fieldType=="Note"?t+="<textarea ng-model='formData."+n.fieldInternalName+"' width='100%' rows='5' data='field' class='form-control' id='"+n.fieldInternalName+"'/>":n.fieldType=="URL"?(t+="<div class='form-group'>",t+="<div class='col-sm-5'><label>Url: <\/label><input ng-model='hyperlink.url' ng-change='formData."+n.fieldInternalName+"=hyperlink.url.length > 0 ? (hyperlink.url + \", \" + hyperlink.description) : \"\"' type='text' class='form-control' id='"+n.fieldInternalName+"_url' placeholder='http://www.google.com'/><\/div>",t+="<div class='col-sm-5'><label>Title: <\/label><input ng-model='hyperlink.description' ng-change='formData."+n.fieldInternalName+"=hyperlink.description.length > 0 ? (hyperlink.url + \", \" + hyperlink.description) : \"\"' type='text' class='form-control' id='"+n.fieldInternalName+"_description' placeholder='Google'/><\/div>",t+="<input ng-model='formData."+n.fieldInternalName+"' type='hidden' data='field' class='form-control' id='"+n.fieldInternalName+"'/>",t+="<\/div>"):t+="<input ng-model='formData."+n.fieldInternalName+"' type='text' data='field' class='form-control' id='"+n.fieldInternalName+"'/>";t+="<\/div>";t+="<\/div>"}),!1}),t+="<\/div>"}var listName=decodeURIComponent(getQueryStringParameter("listName"));resumeBuilderApp.controller("NewListDataController",["$scope","sharePointService",function(n,t){consoleLog("in NewListDataController");clearMsg();n.listName=listName;n.formData={};n.hyperlink={};n.save=function(){var r,i,u;consoleLog("in save");r=[];i={};angular.forEach(n.formData,function(n,t){i={};i.fieldName=t;i.fieldValue=n;r.push(i)});u={data:r};consoleLog(u);objClient.createOrUpdateListItem(n,t,listName,0,u,callbackSaveSuccess,callbackSaveFail)};n.cancel=function(){document.location="View.aspx?SPAppWebUrl="+appWebUrl+"&listName="+listName+"&SPHostUrl="+hostWebUrl};n.createForm=function(){clearMsg();n.listForm=createForm(listName)};n.createForm()}])